{"ast":null,"code":"var _jsxFileName = \"/Users/vrajmehta/Downloads/Downloads/React:JavaScript/AIP_IOU/client/src/components/signupPage/Index.js\";\nimport React, { Fragment } from 'react';\nimport \"./index.css\";\nimport { message } from 'antd';\nimport axios from 'axios';\n\nclass SignupPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstname: '',\n      surname: '',\n      emailaddress: '',\n      username: '',\n      password: ''\n    };\n  }\n\n  onchangeFirstname(e) {\n    this.setState({\n      firstname: e.target.value\n    });\n  }\n\n  onchangeSurname(e) {\n    this.setState({\n      surname: e.target.value\n    });\n  }\n\n  onchangeEmailaddress(e) {\n    this.setState({\n      emailaddress: e.target.value\n    });\n  }\n\n  onchangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onchangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleSignup() {\n    let resMessage; // HTTP post request to API (create a new post)\n\n    let data = {\n      \"user\": {\n        \"first_name\": `${this.state.firstname}`,\n        \"username\": `${this.state.username}`,\n        \"last_name\": `${this.state.surname}`,\n        \"email\": `${this.state.emailaddress}`,\n        \"password\": `${this.state.password}`\n      }\n    };\n    console.log(data); // check input information\n\n    if (!/^[0-9a-zA-Z]{1,12}$/.test(data.user.username)) {\n      message.error(\"Please check your Username. Username can only contain 1-12 number and letters\");\n    } else if (!/^[0-9a-zA-Z]{1,12}$/.test(data.user.password)) {\n      message.error(\"Please check your Password. Password can only contain 1-12 number and letters\");\n    } else if (!/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(data.user.email)) {\n      message.error(\"Please check your Email Address\");\n    } else if (data.user.first_name == \"\") {\n      message.error(\"First name can not be null\");\n    } else if (data.user.last_name == \"\") {\n      message.error(\"Surname can not be null\");\n    } else {\n      // HTTP request\n      axios.post('https://aip-v1.ts.r.appspot.com/api/users', data).then(response => {\n        resMessage = response.data.message;\n        message.success(resMessage);\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n      }).catch(e => {\n        message.error(\"please recheck your input and change a new user name\");\n        console.log(e);\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-fullname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-firstname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"First name\",\n      autoFocus: \"autofocus\",\n      value: this.state.firstname,\n      onChange: this.onchangeFirstname.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-surname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Surname\",\n      value: this.state.surname,\n      onChange: this.onchangeSurname.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-emailaddress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Email Address\",\n      value: this.state.emailaddress,\n      onChange: this.onchangeEmailaddress.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"User name\",\n      value: this.state.username,\n      onChange: this.onchangeUsername.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"signup-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: this.onchangePassword.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"primary\",\n      onClick: this.handleSignup.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, \"Sign up\"));\n  }\n\n}\n\nexport default SignupPage;","map":{"version":3,"sources":["/Users/vrajmehta/Downloads/Downloads/React:JavaScript/AIP_IOU/client/src/components/signupPage/Index.js"],"names":["React","Fragment","message","axios","SignupPage","Component","constructor","props","state","firstname","surname","emailaddress","username","password","onchangeFirstname","e","setState","target","value","onchangeSurname","onchangeEmailaddress","onchangeUsername","onchangePassword","handleSignup","resMessage","data","console","log","test","user","error","email","first_name","last_name","post","then","response","success","setTimeout","window","location","reload","catch","render","bind"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\nimport \"./index.css\";\nimport {message} from 'antd';\nimport axios from 'axios';\n\n\nclass SignupPage extends React.Component{\n    \n    constructor(props){\n        super(props);\n        this.state={\n            firstname:'',\n            surname:'',\n            emailaddress:'',\n            username:'',\n            password:''\n        }\n    }\n\n    onchangeFirstname(e){\n        this.setState({\n            firstname:e.target.value,\n        })\n    }\n    onchangeSurname(e){\n        this.setState({\n            surname:e.target.value,\n        })\n    }\n    onchangeEmailaddress(e){        \n        this.setState({\n            emailaddress:e.target.value,\n        })\n    }\n    onchangeUsername(e){\n        this.setState({\n            username:e.target.value,\n        })\n    }\n    onchangePassword(e){\n        this.setState({\n            password:e.target.value,\n        })\n    }\n    handleSignup(){\n        let resMessage;\n        // HTTP post request to API (create a new post)\n        let data = {\n            \"user\":{\n                \"first_name\":`${this.state.firstname}`,\n                \"username\":`${this.state.username}`,\n                \"last_name\":`${this.state.surname}`,\n                \"email\":`${this.state.emailaddress}`,\n                \"password\":`${this.state.password}`\n            }\n        };        \n        console.log(data);\n        // check input information\n        if(!/^[0-9a-zA-Z]{1,12}$/.test(data.user.username)){\n            message.error(\"Please check your Username. Username can only contain 1-12 number and letters\");\n        }\n        else if(!/^[0-9a-zA-Z]{1,12}$/.test(data.user.password)){\n            message.error(\"Please check your Password. Password can only contain 1-12 number and letters\");\n        }\n        else if(!/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(data.user.email)){\n            message.error(\"Please check your Email Address\");\n        }\n        else if(data.user.first_name == \"\"){\n            message.error(\"First name can not be null\");\n        }\n        else if(data.user.last_name == \"\"){\n            message.error(\"Surname can not be null\");\n        }\n        else{\n            // HTTP request\n            axios.post('https://aip-v1.ts.r.appspot.com/api/users',data)\n            .then(response => {\n                resMessage = response.data.message;\n                message.success(resMessage);\n                setTimeout(() => {\n                    window.location.reload();\n                },2000);\n            })\n            .catch((e) => {\n                message.error(\"please recheck your input and change a new user name\");\n                console.log(e)\n            })\n        }       \n    }\n\n    render(){\n        return(\n            <div className='signup'>\n                <div className=\"signup-fullname\">\n                    <div className=\"signup-firstname\">\n                        <input \n                            type=\"text\" \n                            placeholder=\"First name\"\n                            autoFocus='autofocus'\n                            value={this.state.firstname}\n                            onChange={this.onchangeFirstname.bind(this)}/>\n                    </div>\n                    <div className=\"signup-surname\">\n                        <input \n                            type=\"text\" \n                            placeholder=\"Surname\"\n                            value={this.state.surname}\n                            onChange={this.onchangeSurname.bind(this)}/>\n                    </div>\n                </div> \n                <div className=\"signup-emailaddress\">\n                    <input\n                        type=\"email\" \n                        placeholder=\"Email Address\"\n                        value={this.state.emailaddress}\n                        onChange={this.onchangeEmailaddress.bind(this)}/>\n                </div> \n                <div className=\"signup-username\">\n                    <input \n                        type=\"text\" \n                        placeholder=\"User name\"\n                        value={this.state.username}\n                        onChange={this.onchangeUsername.bind(this)}/>\n                </div>\n                <div className=\"signup-password\">\n                    <input \n                        type=\"password\" \n                        placeholder=\"Password\"\n                        value={this.state.password}\n                        onChange={this.onchangePassword.bind(this)}/>\n                </div>    \n                <button type=\"primary\" onClick={this.handleSignup.bind(this)}>Sign up</button>\n            </div>            \n        );\n    }\n\n}\n\nexport default SignupPage;"]},"metadata":{},"sourceType":"module"}